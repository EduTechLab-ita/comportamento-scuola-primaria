<!DOCTYPE html>
<html>
<head>
    <title>Genera Icone COMPORTAMENTO-SCUOLA PWA</title>
</head>
<body>
    <h2>ðŸŽ¯ Generatore Icone PWA - COMPORTAMENTO-SCUOLA</h2>
    <div id="icons-container"></div>
    <button onclick="downloadAllIcons()">ðŸ“¥ Scarica Tutte le Icone</button>

    <script>
        const sizes = [72, 96, 128, 144, 152, 192, 384, 512];

        function generateIcon(size) {
            const svg = `
                <svg width="${size}" height="${size}" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <!-- Sfondo principale -->
                    <rect width="100" height="100" fill="#1e88e5" rx="20"/>
                    
                    <!-- Documento centrale -->
                    <rect x="20" y="15" width="60" height="70" fill="white" rx="4"/>
                    
                    <!-- Intestazione documento -->
                    <rect x="25" y="20" width="50" height="4" fill="#1e88e5" rx="2"/>
                    
                    <!-- Righe di testo -->
                    <rect x="25" y="30" width="35" height="2" fill="#666" rx="1"/>
                    <rect x="25" y="35" width="45" height="2" fill="#666" rx="1"/>
                    <rect x="25" y="40" width="30" height="2" fill="#666" rx="1"/>
                    
                    <!-- Sezione valutazione con stelline -->
                    <g transform="translate(25, 50)">
                        <!-- Stella 1 -->
                        <path d="M5,2 L6.5,5 L10,5 L7.5,7.5 L8.5,11 L5,9 L1.5,11 L2.5,7.5 L0,5 L3.5,5 Z" fill="#4caf50"/>
                        <!-- Stella 2 -->
                        <path d="M17,2 L18.5,5 L22,5 L19.5,7.5 L20.5,11 L17,9 L13.5,11 L14.5,7.5 L12,5 L15.5,5 Z" fill="#4caf50"/>
                        <!-- Stella 3 -->
                        <path d="M29,2 L30.5,5 L34,5 L31.5,7.5 L32.5,11 L29,9 L25.5,11 L26.5,7.5 L24,5 L27.5,5 Z" fill="#ffb300"/>
                        <!-- Stella 4 -->
                        <path d="M41,2 L42.5,5 L46,5 L43.5,7.5 L44.5,11 L41,9 L37.5,11 L38.5,7.5 L36,5 L39.5,5 Z" fill="#e0e0e0"/>
                    </g>
                    
                    <!-- Icona studente stilizzata -->
                    <circle cx="65" cy="65" r="8" fill="#1e88e5"/>
                    <rect x="57" y="73" width="16" height="10" fill="#1e88e5" rx="2"/>
                    
                    <!-- Indicatore comportamento positivo -->
                    <circle cx="85" cy="25" r="6" fill="#4caf50"/>
                    <path d="M82,25 L84,27 L88,23" stroke="white" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                </svg>`;

            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            const ctx = canvas.getContext('2d');

            const img = new Image();
            const blob = new Blob([svg], { type: 'image/svg+xml' });
            const url = URL.createObjectURL(blob);

            return new Promise((resolve) => {
                img.onload = () => {
                    ctx.drawImage(img, 0, 0, size, size);
                    URL.revokeObjectURL(url);
                    resolve(canvas);
                };
                img.src = url;
            });
        }

        async function generateAllIcons() {
            const container = document.getElementById('icons-container');
            
            for (const size of sizes) {
                const canvas = await generateIcon(size);
                const div = document.createElement('div');
                div.innerHTML = `<h3>Icon ${size}x${size}</h3>`;
                div.appendChild(canvas);
                
                const link = document.createElement('a');
                link.download = `icon-${size}x${size}.png`;
                link.href = canvas.toDataURL();
                link.textContent = `ðŸ“¥ Scarica ${size}x${size}`;
                link.style.display = 'block';
                link.style.margin = '10px 0';
                div.appendChild(link);
                
                container.appendChild(div);
            }
        }

        async function downloadAllIcons() {
            for (const size of sizes) {
                const canvas = await generateIcon(size);
                const link = document.createElement('a');
                link.download = `icon-${size}x${size}.png`;
                link.href = canvas.toDataURL();
                link.click();
                await new Promise(resolve => setTimeout(resolve, 500));
            }
        }

        generateAllIcons();
    </script>
</body>
</html>